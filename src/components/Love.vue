<template>
  <div class="love">
    <div class="text">
      å“ˆå“ˆå“ˆå“ˆå“ˆï¼Œæ‰“ä¸è¿‡æˆ‘å§-----æ²¡æœ‰åŠæ³•ï¼Œæˆ‘å°±æ˜¯è¿™ä¹ˆå¼ºå¤§ï¼
    </div>



  </div>
</template>

<script>
import '../assets/js/m.js'
//import $ from 'n-zepto'

export default {
  name: 'Love',
  data () {
    return {
      type: 0,
      contentArr: [
        'æˆ¿è¯å†™ä½ åğŸ˜', 'ä¿å¤§ğŸ˜', 'æˆ‘å¦ˆä¼šæ¸¸æ³³ğŸ˜', 'å·¥èµ„å…¨ç»™ä½ ğŸ˜', 'å¤©å¤©ç»™æŒ‰æ‘©ğŸ˜', 'åµæ¶å…ˆé“æ­‰ğŸ˜', 'ç»å¸¸é€ç¤¼ç‰©ğŸ˜', 'å¤©å¤©æƒ…äººèŠ‚ğŸ˜',
        'è®©ä½ æ¬ºè´Ÿä¸€è¾ˆå­ğŸ˜', 'å¤©å¤©é€—ä½ å¼€å¿ƒğŸ˜'
      ]
    }
  },
  created () {
    this.$messagebox.confirm('', {
      title: 'åšæˆ‘å¥³æœ‹å‹',
      message: 'å¥½å—ï¼Ÿå¥½å—ï¼Ÿå¥½å—ï¼Ÿ',
      showConfirmButton: true,
      confirmButtonText: 'å¥½',
      showCancelButton: true,
      cancelButtonText: 'ä¸è¦'
    }).then(action => {
      if (action == 'confirm') {     //ç¡®è®¤çš„å›è°ƒ
        this.success()

      }

    }).catch(err => {
      if (err == 'cancel') {     //å–æ¶ˆçš„å›è°ƒ
        this.callback()

      }
    })


  },
  mounted () {
    console.log(wx)
    wx.config({
      debug: false,
      appId: 'wx78db3ae4f16b702c', // å¿…å¡«ï¼Œå…¬ä¼—å·çš„å”¯ä¸€æ ‡è¯†
      timestamp: 1535369454311, // å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„æ—¶é—´æˆ³
      nonceStr: 'abc', // å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„éšæœºä¸²
      signature:'abc',// å¿…å¡«ï¼Œç­¾åï¼Œè§é™„å½•1
      jsApiList: ['onMenuShareTimeline','onMenuShareAppMessage','error'] // å¿…å¡«ï¼Œéœ€è¦ä½¿ç”¨çš„JSæ¥å£åˆ—è¡¨ï¼Œæ‰€æœ‰JSæ¥å£åˆ—è¡¨è§é™„å½•2
    });
    wx.ready(function () {
      //è·å–â€œåˆ†äº«åˆ°æœ‹å‹åœˆâ€æŒ‰é’®ç‚¹å‡»çŠ¶æ€åŠè‡ªå®šä¹‰åˆ†äº«å†…å®¹æ¥å£
      wx.onMenuShareTimeline({
        title: '', // åˆ†äº«æ ‡é¢˜
        link: '', // åˆ†äº«é“¾æ¥ï¼Œè¯¥é“¾æ¥åŸŸåæˆ–è·¯å¾„å¿…é¡»ä¸å½“å‰é¡µé¢å¯¹åº”çš„å…¬ä¼—å·JSå®‰å…¨åŸŸåä¸€è‡´
        imgUrl: '', // åˆ†äº«å›¾æ ‡
        success: function () {
          alert('ç¡®è®¤åˆ†äº«')
          // ç”¨æˆ·ç¡®è®¤åˆ†äº«åæ‰§è¡Œçš„å›è°ƒå‡½æ•°
        },
        cancel: function () {
          // ç”¨æˆ·å–æ¶ˆåˆ†äº«åæ‰§è¡Œçš„å›è°ƒå‡½æ•°
        }
      });
      //è·å–â€œåˆ†äº«ç»™æœ‹å‹â€æŒ‰é’®ç‚¹å‡»çŠ¶æ€åŠè‡ªå®šä¹‰åˆ†äº«å†…å®¹æ¥å£
      wx.onMenuShareAppMessage({
        title: '', // åˆ†äº«æ ‡é¢˜
        desc: '', // åˆ†äº«æè¿°
        link: '', // åˆ†äº«é“¾æ¥ï¼Œè¯¥é“¾æ¥åŸŸåæˆ–è·¯å¾„å¿…é¡»ä¸å½“å‰é¡µé¢å¯¹åº”çš„å…¬ä¼—å·JSå®‰å…¨åŸŸåä¸€è‡´
        imgUrl: '', // åˆ†äº«å›¾æ ‡
        type: '', // åˆ†äº«ç±»å‹,musicã€videoæˆ–linkï¼Œä¸å¡«é»˜è®¤ä¸ºlink
        dataUrl: '', // å¦‚æœtypeæ˜¯musicæˆ–videoï¼Œåˆ™è¦æä¾›æ•°æ®é“¾æ¥ï¼Œé»˜è®¤ä¸ºç©º
        success: function () {
          // ç”¨æˆ·ç¡®è®¤åˆ†äº«åæ‰§è¡Œçš„å›è°ƒå‡½æ•°
        },
        cancel: function () {
          // ç”¨æˆ·å–æ¶ˆåˆ†äº«åæ‰§è¡Œçš„å›è°ƒå‡½æ•°
        }
      });
    })


  },
  methods: {
    callback () {
      if (this.type >= this.contentArr.length) {
        this.type = 0
      }

      const content = this.contentArr[this.type]
      this.type++

      this.dialog(null, content, this.success, this.callback)
    },
    success () {
      this.$messagebox.alert('ä»ä»Šå¤©èµ·ä½ ä¸æ˜¯åŠ¨ç‰©äº†', 'ä½ å¤ªæœ‰çœ¼å…‰äº†ï¼')

    },

    dialog (title = '', content = '', success, fail) {
      this.$messagebox.confirm('', {
        title: title,
        message: content,
        showConfirmButton: true,
        confirmButtonText: 'å¥½',
        showCancelButton: true,
        cancelButtonText: 'ä¸è¦'
      }).then(action => {
        if (action == 'confirm') {     //ç¡®è®¤çš„å›è°ƒ
          success && success()
        }

      }).catch(err => {
        if (err == 'cancel') {     //å–æ¶ˆçš„å›è°ƒ
          fail && fail()
        }
      })

    }

  }

}

</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped lang="scss">
  @import '../assets/css/pr2rem';

  .text {
    width: pr(600);
    height: pr(200);
    font-size: pr(30);
    position: fixed;
    top: 50%;
    left: 50%;
    margin-top: pr(-100);
    margin-left: pr(-300);
  }

</style>
